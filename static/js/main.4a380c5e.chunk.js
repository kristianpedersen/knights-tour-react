(this["webpackJsonpknights-tour-react"]=this["webpackJsonpknights-tour-react"]||[]).push([[0],{106:function(t,e,n){},110:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(0),a=n.n(o),i=n(3),c=n(17),l=n(6),u=n(15),s=n(7),d=n(54),b=n.n(d);function h(){var t=Object(l.a)(["\n\ttext-align: left;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-left: 30px;\n\n\th1 {\n\t\tpadding: 1rem 0;\n\t}\n\n\tli {\n\t\tmargin: 1rem 0;\n\t}\n"]);return h=function(){return t},t}var f=Object(s.a)(u.b.div).attrs((function(t){var e=t.variants;return{initial:e.out,animate:e.in,exit:e.out}}))(h()),j=function(t){var e=t.variants;return Object(o.useEffect)((function(){var t=b.a.request({protocol:"https",host:"en.wikipedia.org",path:"/wiki/Knight%27s_tour",proxy:"http://localhost:3000",method:"GET"},(function(t){var e="";200===t.statusCode?(t.on("error",(function(t){console.log(t)})),t.on("data",(function(t){e+=t})),t.on("end",(function(){console.log(e)}))):console.log("Server respond "+t.statusCode)}));t.end(),t.on("error",(function(t){console.log(t)}))}),[]),Object(r.jsxs)(f,Object(i.a)(Object(i.a)({},{variants:e}),{},{children:[Object(r.jsx)("h1",{children:"About the algorithm"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"The knight can only move to a position where xDistance=1 and yDistance=2, or vice versa."}),Object(r.jsx)("li",{children:"For each move, we find all valid moves, and choose the one that has the fewest options. This is known as Warnsdorff's rule."}),Object(r.jsx)("li",{children:"This was just a personal challenge for me, so I haven't looked at other implementations."})]}),Object(r.jsx)("h1",{children:"Help wanted!"}),Object(r.jsxs)("p",{children:["I would love to see any aspect of this site improved! ",Object(r.jsx)("a",{hreF:"https://github.com/KristianPedersen/knights-tour-react",children:"Submit your pull requests @ Github"})]})]}))},v=n(25),p=n.n(v),m=n(29),g=n(58),x=n(12);function O(t){return new Promise((function(e){return setTimeout(e,t)}))}var y=function(t){var e=t.animationSpeed,n=t.board,r=(t.boardRef,Object(o.useRef)(!0));return Object(o.useEffect)((function(){r.current&&(r.current=!1,console.log("Setting up event listener"),window.addEventListener("resize",(function(){if(null!==document.querySelector(".board")){var t=document.querySelector(".board").getBoundingClientRect().height;document.querySelectorAll("svg").forEach((function(e){return e.setAttribute("height",t)}))}})))})),Object(o.useEffect)((function(){var t=document.querySelector(".board").getBoundingClientRect(),r=t.width,o=t.height;if(n.length>=25){var a=Object(x.a)(document.querySelectorAll("button")),i=[].concat(Object(x.a)(document.querySelectorAll(".disable-when-animating")),Object(x.a)(document.querySelectorAll("p.info")));function l(){return(l=Object(g.a)(p.a.mark((function t(){var l,u,s,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=Object(m.a)(n.entries()),t.prev=1,s=p.a.mark((function t(){var l,s,d,b,h,f,j,v,m,g,x,y,S,w,k,A,N,C,M,B,E,R,q,T,z,F,L,H;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=Object(c.a)(u.value,2),s=l[0],d=l[1],void 0!==(b=a.find((function(t){return t.innerHTML===d.name})))){t.next=4;break}return t.abrupt("return",{v:void 0});case 4:if(h="http://www.w3.org/2000/svg",(f=document.createElementNS(h,"svg")).setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox","0 0 ".concat(r," ").concat(o)),j="",v=document.querySelector(".board").getBoundingClientRect(),f.setAttributeNS(null,"width","100vw"),f.setAttributeNS(null,"height",v.height||0),m=document.createElementNS(h,"path"),g=document.createElementNS(h,"path"),x=Math.floor(s*(270/n.length)),y=b.getBoundingClientRect(),S=y.left,w=y.width,k=y.top,A=y.height,!(s>0)){t.next=39;break}if(N=S+w/2,C=Math.abs(k-document.querySelector(".board").getBoundingClientRect().top+A/2),void 0!==(M=a.find((function(t){return t.innerHTML===n[s-1].name})))){t.next=22;break}return t.abrupt("return",{v:void 0});case 22:for(M.innerHTML=s,s===n.length-1&&(b.innerHTML=s+1),B=M.getBoundingClientRect(),E={left:B.left,width:B.width,top:B.top,height:B.height},R=E.left+w/2,q=Math.abs(E.top-document.querySelector(".board").getBoundingClientRect().top+A/2),j+="M ".concat(N," ").concat(C," L ").concat(R," ").concat(q),m.setAttributeNS(null,"stroke","black"),g.setAttributeNS(null,"stroke","hsl(".concat(x,", 100%, 70%)")),m.setAttributeNS(null,"stroke-width",6),g.setAttributeNS(null,"stroke-width",3),T=0,z=[m,g];T<z.length;T++)(F=z[T]).setAttributeNS(null,"d",j),F.setAttributeNS(null,"stroke-linecap","round"),f.appendChild(F);1!==s&&s!==n.length-1||(L=new Set(n.map((function(t){return t.name}))).size===n.length,(H=document.createElementNS(h,"circle")).setAttributeNS(null,"cx",1===s?R:N),H.setAttributeNS(null,"cy",1===s?q:C),H.setAttributeNS(null,"r",Math.min(w,A)/Math.PI),H.setAttributeNS(null,"stroke-width",1),H.setAttributeNS(null,"fill",L?"lime":"red"),H.setAttributeNS(null,"stroke","black"),f.appendChild(H)),f.style.position="absolute",f.style.left=0,f.style.bottom=0,document.querySelector(".board").appendChild(f);case 39:return b.classList.add("active"),s>0&&s<n.length-1?(b.style.backgroundColor="hsl(".concat(x,", 50%, 80%)"),b.style.color="black"):(b.style.backgroundColor="#333",b.style.color="white",i.forEach((function(t){t.disabled=!1,t.style.color="black"}))),t.next=43,O(e.current);case 43:case"end":return t.stop()}}),t)})),l.s();case 4:if((u=l.n()).done){t.next=11;break}return t.delegateYield(s(),"t0",6);case 6:if("object"!==typeof(d=t.t0)){t.next=9;break}return t.abrupt("return",d.v);case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(1),l.e(t.t1);case 16:return t.prev=16,l.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})))).apply(this,arguments)}document.querySelectorAll("svg").forEach((function(t){return t.remove()})),function(){l.apply(this,arguments)}()}}),[n]),null};function S(t,e,n){var r=Math.pow(n,2),o=Object(x.a)(Array(n)).map((function(t,e){return Object(x.a)(Array(n)).map((function(t,l){return function(t,e){var l=[],u=t+1;function s(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(a.length>0&&(c.push(Object(i.a)(Object(i.a)({},a[a.length-1]),{},{colorize:!0})),c.push.apply(c,Object(x.a)(l))),a.push(o[t][e]),a[a.length-1].visited=!0,o[t][e].visited=!0),u?l.push(l.shift()):l=d(),n&&l.length>0){var s,h=Object(m.a)(l);try{for(h.s();!(s=h.n()).done;){var f=s.value;f.validMoves=f.getValidMoves(n=!1)}}catch(v){h.e(v)}finally{h.f()}l.sort((function(t,e){return t.validMoves.length-e.validMoves.length}));var j=l[0];o[j.x][j.y].getValidMoves()}else n&&0===l.length&&a.length<r&&b();return l}function d(){return o.flat().filter((function(n){var r=-1*Math.abs(n.x-t),o=-1*Math.abs(n.y-e);return(-2===r&&-1===o||-1===r&&-2===o)&&!n.visited}))}function b(){for(var t=a.length-1;t>=0;t--){if(a[t].validMoves.length>=2){var e=a[t],n=e.x,r=e.y;o[n][r].getValidMoves(!0,!0);break}a.pop()}}return{name:"".concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n-e-1]).concat(u),x:t,y:e,getValidMoves:s}}(e,l)}))})),a=[],c=[];if(o[t][e].validMoves=o[t][e].getValidMoves(),a.length===r)return{history:a,playback:c}}function w(){var t=Object(l.a)(["\n\tborder: 1px solid;\n\tdisplay: inline;\n\tborder-color: #666;\n\tbackground-color: #333;\n\tcolor: #ddd;\n\tcursor: pointer;\n\tfont-size: 1rem;\n\ttext-align: start;\n\tpadding-left: 0.5rem;\n\tpadding-right: -0.5rem;\n\t\n\t&:hover {\n\t\tbox-shadow: 0 0 10px white;\n\t}\n\n\t&.active:hover{\n\t\tbox-shadow: 0 0 10px black;\n\t}\n"]);return w=function(){return t},t}var k=s.a.button(w());var A=function(t){var e=t.name,n=t.x,o=t.y,a=t.setBoard,i=t.boardSize;return Object(r.jsx)(k,{className:"board-button",onClick:function(){document.querySelectorAll("svg").forEach((function(t){return t.remove()})),document.querySelectorAll(".board-button").forEach((function(t){t.removeAttribute("style")}));var t=S(n,o,i).history;a(t)},children:e})},N=n(112);function C(){var t=Object(l.a)(["\n\tmargin-top: 1rem;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tbackground: #333;\n\tcolor: #aaa;\t\t\n\n\thr {\n\t\tvisibility: hidden;\n\t}\n\n\t.row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-evenly;\n\t\twidth: 100vw;\n\t}\n\n\tbutton {\n\t\tdisplay: inline-block;\n\t\theight: 100%;\n\t}\n"]);return C=function(){return t},t}var M=Object(s.a)(u.b.div).attrs((function(t){var e=t.variants;return{initial:e.out,animate:e.in,exit:e.out}}))(C());function B(t){var e=t.boardRef,n=t.boardSize,a=t.setBoard,c=t.setHistory,l=t.variants;Object(o.useEffect)((function(){document.querySelectorAll("svg").forEach((function(t){return t.remove()})),document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")}))}),[n]);for(var u=[],s=0;s<n;s++){for(var d=[],b=0;b<n;b++){var h="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n-b-1];d.push(Object(o.createElement)(A,Object(i.a)(Object(i.a)({name:"".concat(h).concat(s+1),x:s,y:b},{boardSize:n,setBoard:a,setHistory:c}),{},{key:Object(N.a)()})))}u.push(d)}return Object(r.jsx)(M,Object(i.a)(Object(i.a)({className:"board",ref:e},{boardSize:n,variants:l}),{},{children:u.map((function(t){return Object(r.jsx)("div",{className:"row",children:t.map((function(t){return t}))})}))}))}function E(){var t=Object(l.a)(["\n\tmin-width: 33vw;\n\tdisplay: inline-block;\n"]);return E=function(){return t},t}function R(){var t=Object(l.a)(["\n\tborder: 1px solid black;\n\tpadding: 0.5rem;\n"]);return R=function(){return t},t}function q(){var t=Object(l.a)(["\n\tdisplay: flex;\n\talign-items: flex-end;\n\tflex-wrap: wrap;\n\tjustify-content: space-around;\n\n\t@media (min-width: 728px) {\n\t\tflex-wrap: nowrap;\n\t}\n\n\tlabel {\n\t\tpadding: 0.5rem;\n\t\tbackground-color: hsl(194, 53%, 85%);\n\t\tborder: 1px solid #999;\n\t}\n\n\tbutton {\n\t\tpadding: 1rem;\n\t\tfont-size: 1rem;\n\t\tmargin: 1rem;\n\t\tmargin-top: 0;\n\t\tmargin-bottom: 0;\n\t}\n\n\tp {\n\t\tmargin-top: 1rem;\n\t\tuser-select: none;\n\t}\n"]);return q=function(){return t},t}var T=s.a.form(q()),z=s.a.input(R()),F=s.a.input(E()),L=function(t){var e=t.animationSpeed,n=t.boardSize,a=t.setBoardSize,i=t.setBoard,c=t.sliderRef,l=Object(o.useRef)(null);function u(t,e){t.preventDefault(),a(e)}return Object(r.jsxs)(T,{children:[Object(r.jsxs)("label",{htmlFor:"num-cells",onClick:function(t){"INPUT"===t.target.tagName&&t.target.focus(),"P"===t.target.tagName&&t.target.previousSibling.focus()},children:[Object(r.jsx)(z,{autoFocus:!0,className:"disable-when-animating",min:"5",max:"26",name:"num-cells",onChange:function(t){if(t.target.value<=26){var e=Number(t.target.value);a(e)}},type:"number",value:n}),Object(r.jsx)("p",{className:"info",children:"Board size (5-26)"})]}),Object(r.jsxs)("label",{htmlFor:"buttons",children:[Object(r.jsx)("button",{className:"disable-when-animating",onClick:function(t){return u(t,8)},children:"8x8"}),Object(r.jsx)("button",{className:"disable-when-animating",onClick:function(t){return u(t,26)},children:"26x26"}),Object(r.jsx)("button",{onClick:function(t){i([]),t.preventDefault(),document.querySelectorAll("svg").forEach((function(t){return t.remove()})),document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")}))},children:"Clear"})]}),Object(r.jsxs)("label",{htmlFor:"speed",children:[Object(r.jsx)(F,{min:"0",max:"500",name:"animation-speed",onInput:function(t){e.current=Number(t.target.value)||e.current,l.current.innerHTML="Interval: ".concat(e.current," ms")},ref:c.current,step:"5",type:"range"}),Object(r.jsx)("p",{ref:l,children:"Interval: ".concat(e.current," ms")})]})]})},H=n(16);function I(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 1rem;\n\tbackground: hsl(350, 50%, 50%);\n\tcolor: white;\n\tbox-shadow: 0 0 10px 0 rgba(0,0,0,0.5);\n\tborder-bottom: 1px solid black;\n\n\tul{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tlist-style: none;\n\t}\n\n\t@media (min-width: 768px) {\n\t\tul {\n\t\t\tflex-direction: row;\n\t\t}\n\t}\n\n\tli {\n\t\tpadding: 0 5rem;\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t}\n"]);return I=function(){return t},t}var P=s.a.nav(I());var D=function(t){return t.setBoard,Object(r.jsxs)(P,{children:[Object(r.jsx)("h1",{children:"Knight's Tour"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)(H.b,{exact:!0,to:"/knights-tour-react",children:Object(r.jsx)("li",{children:"Board"})}),Object(r.jsx)(H.b,{onClick:function(){document.querySelectorAll("svg").forEach((function(t){return t.remove()}))},to:"/knights-tour-react/about",children:Object(r.jsx)("li",{children:"About"})})]})]})},V=n(2);n(106);var K=function(){var t=Object(o.useRef)(50),e=Object(o.useState)([]),n=Object(c.a)(e,2),a=n[0],l=n[1],s=Object(o.useState)(8),d=Object(c.a)(s,2),b=d[0],h=d[1],f=Object(o.useState)([]),v=Object(c.a)(f,2),p=v[0],m=v[1],g=Object(o.useRef)(),x=(Object(o.useRef)([]),{in:{opacity:1},out:{opacity:0}}),O={animationSpeed:t,board:a,boardRef:g},S={animationSpeed:t,board:a,setBoard:l,boardSize:b,setBoardSize:h,sliderRef:Object(o.useRef)()},w={boardRef:g,boardSize:b,history:p,setHistory:m,setBoard:l,variants:x};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(D,Object(i.a)({},{setBoard:l})),Object(r.jsx)(u.a,{exitBeforeEnter:!0,children:Object(r.jsxs)(V.c,{children:[Object(r.jsxs)(V.a,{exact:!0,path:"/knights-tour-react",children:[Object(r.jsx)(y,Object(i.a)({},O)),Object(r.jsx)(L,Object(i.a)({},S)),Object(r.jsx)(B,Object(i.a)({},w))]}),Object(r.jsx)(V.a,{exact:!0,path:"/knights-tour-react/about",children:Object(r.jsx)(j,Object(i.a)({},{variants:x}))})]})})]})},G=n(59),J=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,113)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),o(t),a(t),i(t)}))};n.n(G).a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(H.a,{children:Object(r.jsx)(K,{})})}),document.getElementById("root")),J()},65:function(t,e){},67:function(t,e){}},[[110,1,2]]]);
//# sourceMappingURL=main.4a380c5e.chunk.js.map