(this["webpackJsonpknights-tour-react"]=this["webpackJsonpknights-tour-react"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(0),c=n.n(o),a=n(21),i=n.n(a),u=n(4),l=n(5),s=n(2),d=n(3);function b(){var t=Object(s.a)(["\n\ttext-align: left;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-left: 30px;\n\th1 {\n\t\tpadding: 1rem 0;\n\t}\n\n\tli {\n\t\tmargin: 1rem 0;\n\t}\n"]);return b=function(){return t},t}d.a.div(b());var h=n(13),f=n.n(h),p=n(14),v=n(25),m=n(7);function j(t){return new Promise((function(e){return setTimeout(e,t)}))}var g=function(t){var e=t.animationSpeed,n=t.board,r=Object(o.useRef)(!0);return Object(o.useEffect)((function(){r.current&&(r.current=!1,console.log("Setting up event listener"),window.addEventListener("resize",(function(){var t=document.querySelector(".board").getBoundingClientRect().height;document.querySelectorAll("svg").forEach((function(e){return e.setAttribute("height",t)}))})))})),Object(o.useEffect)((function(){var t=document.querySelector(".board").getBoundingClientRect(),r=t.width,o=t.height;if(n.length>=25){var c=Object(m.a)(document.querySelectorAll(".board-button"));function a(){return(a=Object(v.a)(f.a.mark((function t(){var a,i,u,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=Object(p.a)(n.entries()),t.prev=1,u=f.a.mark((function t(){var a,u,s,d,b,h,p,v,m,g,x,O,y,S,w,k,A,M,B,N,C,E,R,q,z,L;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(l.a)(i.value,2),u=a[0],s=a[1],void 0!==(d=c.find((function(t){return t.innerHTML===s.name})))){t.next=4;break}return t.abrupt("return",{v:void 0});case 4:if(b="http://www.w3.org/2000/svg",(h=document.createElementNS(b,"svg")).setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox","0 0 ".concat(r," ").concat(o)),p="",h.setAttributeNS(null,"width","100vw"),h.setAttributeNS(null,"height",document.querySelector(".board").getBoundingClientRect().height),v=document.createElementNS(b,"path"),m=document.createElementNS(b,"path"),g=Math.floor(u*(270/n.length)),x=d.getBoundingClientRect(),O=x.left,y=x.width,S=x.top,w=x.height,!(u>0)){t.next=38;break}if(k=O+y/2,A=Math.abs(S-document.querySelector(".board").getBoundingClientRect().top+w/2),void 0!==(M=c.find((function(t){return t.innerHTML===n[u-1].name})))){t.next=21;break}return t.abrupt("return",{v:void 0});case 21:for(M.innerHTML=u,u===n.length-1&&(d.innerHTML=u),B=M.getBoundingClientRect(),N={left:B.left,width:B.width,top:B.top,height:B.height},C=N.left+y/2,E=Math.abs(N.top-document.querySelector(".board").getBoundingClientRect().top+w/2),p+="M ".concat(k," ").concat(A," L ").concat(C," ").concat(E),v.setAttributeNS(null,"stroke","black"),m.setAttributeNS(null,"stroke","hsl(".concat(g,", 100%, 70%)")),v.setAttributeNS(null,"stroke-width",6),m.setAttributeNS(null,"stroke-width",3),R=0,q=[v,m];R<q.length;R++)(z=q[R]).setAttributeNS(null,"d",p),z.setAttributeNS(null,"stroke-linecap","round"),h.appendChild(z);1!==u&&u!==n.length-1||((L=document.createElementNS(b,"circle")).setAttributeNS(null,"cx",1===u?C:k),L.setAttributeNS(null,"cy",1===u?E:A),L.setAttributeNS(null,"r",window.innerWidth/(.5*n.length)),L.setAttributeNS(null,"stroke-width",1),L.setAttributeNS(null,"fill","lime"),L.setAttributeNS(null,"stroke","black"),h.appendChild(L)),h.style.position="absolute",h.style.left=0,h.style.bottom=0,document.querySelector(".board").appendChild(h);case 38:return d.classList.add("active"),u>0&&u<n.length-1?(d.style.backgroundColor="hsl(".concat(g,", 50%, 80%)"),d.style.color="black"):(d.style.backgroundColor="#333",d.style.color="white"),t.next=42,j(e.current);case 42:case"end":return t.stop()}}),t)})),a.s();case 4:if((i=a.n()).done){t.next=11;break}return t.delegateYield(u(),"t0",6);case 6:if("object"!==typeof(s=t.t0)){t.next=9;break}return t.abrupt("return",s.v);case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(1),a.e(t.t1);case 16:return t.prev=16,a.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})))).apply(this,arguments)}document.querySelectorAll("svg").forEach((function(t){return t.remove()})),function(){a.apply(this,arguments)}()}}),[n]),null};function x(t,e,n){var r=Math.pow(n,2),o=Object(m.a)(Array(n)).map((function(t,e){return Object(m.a)(Array(n)).map((function(t,i){return function(t,e){var i=[],l=t+1;function s(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(c.length>0&&(a.push(Object(u.a)(Object(u.a)({},c[c.length-1]),{},{colorize:!0})),a.push.apply(a,Object(m.a)(i))),c.push(o[t][e]),c[c.length-1].visited=!0,o[t][e].visited=!0),l?i.push(i.shift()):i=d(),n&&i.length>0){var s,h=Object(p.a)(i);try{for(h.s();!(s=h.n()).done;){var f=s.value;f.validMoves=f.getValidMoves(n=!1)}}catch(j){h.e(j)}finally{h.f()}i.sort((function(t,e){return t.validMoves.length-e.validMoves.length}));var v=i[0];o[v.x][v.y].getValidMoves()}else n&&0===i.length&&c.length<r&&b();return i}function d(){return o.flat().filter((function(n){var r=-1*Math.abs(n.x-t),o=-1*Math.abs(n.y-e);return(-2===r&&-1===o||-1===r&&-2===o)&&!n.visited}))}function b(){for(var t=c.length-1;t>=0;t--){if(c[t].validMoves.length>=2){var e=c[t],n=e.x,r=e.y;o[n][r].getValidMoves(!0,!0);break}c.pop()}}return{name:"".concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n-e-1]).concat(l),x:t,y:e,getValidMoves:s}}(e,i)}))})),c=[],a=[];if(o[t][e].validMoves=o[t][e].getValidMoves(),c.length===r)return{history:c,playback:a}}function O(){var t=Object(s.a)(["\n\tborder: 1px solid;\n\tdisplay: inline;\n\tborder-color: #666;\n\tbackground-color: #333;\n\tcolor: #ddd;\n\tcursor: pointer;\n\tfont-size: 0.8rem;\n\ttext-align: start;\n\tpadding-left: 0.5rem;\n\tpadding-right: -0.5rem;\n\t\n\t&:hover {\n\t\tbox-shadow: 0 0 10px white;\n\t}\n\n\t&.active:hover{\n\t\tbox-shadow: 0 0 10px black;\n\t}\n"]);return O=function(){return t},t}var y=d.a.button(O());var S=function(t){var e=t.name,n=t.x,o=t.y,c=t.setBoard,a=t.setHistory,i=t.boardSize;return Object(r.jsx)(y,{className:"board-button",onClick:function(){document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")}));var t=x(n,o,i),e=t.history,r=t.playback;c(e),a(r)},children:e})},w=n(41);function k(){var t=Object(s.a)(["\n\tmargin-top: 1rem;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tbackground: #333;\n\tcolor: #aaa;\t\t\n\n\thr {\n\t\tvisibility: hidden;\n\t}\n\n\t.row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-evenly;\n\t\twidth: 100vw;\n\t}\n\n\tbutton {\n\t\tdisplay: inline-block;\n\t\theight: 100%;\n\t}\n"]);return k=function(){return t},t}var A=d.a.div(k());function M(t){var e=t.boardSize,n=t.setBoard,c=t.setHistory;Object(o.useEffect)((function(){document.querySelectorAll("svg").forEach((function(t){return t.remove()})),document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")}))}),[e]);for(var a=[],i=0;i<e;i++){for(var l=[],s=0;s<e;s++){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e-s-1];l.push(Object(o.createElement)(S,Object(u.a)(Object(u.a)({name:"".concat(d).concat(i+1),x:i,y:s},{boardSize:e,setBoard:n,setHistory:c}),{},{key:Object(w.a)()})))}a.push(l)}return Object(r.jsx)(A,Object(u.a)(Object(u.a)({className:"board"},{boardSize:e}),{},{children:a.map((function(t){return Object(r.jsx)("div",{className:"row",children:t.map((function(t){return t}))})}))}))}function B(){var t=Object(s.a)(["\n\tmin-width: 33vw;\n\tdisplay: inline-block;\n"]);return B=function(){return t},t}function N(){var t=Object(s.a)(["\n\tborder: 1px solid black;\n\tpadding: 0.5rem;\n"]);return N=function(){return t},t}function C(){var t=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n\tjustify-content: space-around;\n\n\t@media (min-width: 728px) {\n\t\tflex-wrap: nowrap;\n\t}\n\n\tlabel {\n\t\tpadding: 0.5rem;\n\t}\n\n\tbutton {\n\t\tpadding: 1rem;\n\t\tfont-size: 1rem;\n\t\tmargin: 1rem;\n\t\tmargin-bottom: 0;\n\t}\n\n\tp {\n\t\tmargin-top: 1rem;\n\t}\n"]);return C=function(){return t},t}var E=d.a.form(C()),R=d.a.input(N()),q=d.a.input(B());var z=function(t){var e=t.animationSpeed,n=t.boardSize,c=t.setBoardSize,a=t.resetButton,i=t.setResetButton,u=t.setBoard,l=Object(o.useRef)(null);function s(t,e){t.preventDefault(),c(e)}function d(t){var e=t*Math.pow(n,2)/1e3,r=Math.floor(e/60),o=Math.floor(e%60);return e>60?"".concat(r,":").concat(String(o).padStart(2,"0")):e>=10?Math.round(e)+"s":e.toFixed(1)+"s"}return Object(r.jsxs)(E,{children:[Object(r.jsxs)("label",{htmlFor:"num-cells",children:[Object(r.jsx)(R,{autoFocus:!0,id:"num-cells",min:"5",max:"26",name:"num-cells",onChange:function(t){if(t.target.value<=26){var e=Number(t.target.value);c(e)}},onClick:function(t){return t.target.focus()},type:"number",value:n}),Object(r.jsx)("p",{children:"Board size (5-26)"})]}),Object(r.jsxs)("label",{htmlFor:"buttons",children:[Object(r.jsx)("button",{onClick:function(t){return s(t,8)},children:"8x8"}),Object(r.jsx)("button",{onClick:function(t){return s(t,26)},children:"26x26"}),Object(r.jsx)("button",{onClick:function(t){t.preventDefault(),document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")})),document.querySelectorAll("svg").forEach((function(t){return t.remove()})),u([]),i(!a)},children:"Clear"})]}),Object(r.jsxs)("label",{htmlFor:"speed",children:[Object(r.jsx)(q,{type:"range",name:"animation-speed",onInput:function(t){e.current=Number(t.target.value)||e.current;var n=d(e.current);l.current.innerHTML="Interval: ".concat(e.current," ms (total duration: ").concat(n,")")},min:"0",max:"500",step:"5"}),Object(r.jsx)("p",{ref:l,children:"Interval: ".concat(e.current," ms (total duration: ").concat(d(e.current),")")})]})]})},L=n(12);function F(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 1rem;\n\tbackground: hsl(350, 50%, 50%);\n\tcolor: white;\n\tbox-shadow: 0 0 10px 0 rgba(0,0,0,0.5);\n\tborder-bottom: 1px solid black;\n\n\tul{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tlist-style: none;\n\t}\n\n\t@media (min-width: 768px) {\n\t\tul {\n\t\t\tflex-direction: row;\n\t\t}\n\t}\n\n\tli {\n\t\tpadding: 0 5rem;\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t}\n"]);return F=function(){return t},t}var H=d.a.nav(F());var T=function(t){return t.title,Object(r.jsxs)(H,{children:[Object(r.jsx)("h1",{children:"Knight's Tour"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)(L.b,{exact:!0,to:"/knights-tour-react",children:Object(r.jsx)("li",{children:"Board"})}),Object(r.jsx)(L.b,{to:"/knights-tour-react/about",children:Object(r.jsx)("li",{children:"About"})})]})]})};n(38);var I=function(){var t=Object(o.useRef)(50),e=Object(o.useState)([]),n=Object(l.a)(e,2),c=n[0],a=n[1],i=Object(o.useState)(8),s=Object(l.a)(i,2),d=s[0],b=s[1],h=Object(o.useState)([]),f=Object(l.a)(h,2),p=f[0],v=f[1],m=Object(o.useState)(!1),j=Object(l.a)(m,2),x=j[0],O=j[1];return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(L.a,{children:[Object(r.jsx)(T,{}),Object(r.jsx)(g,Object(u.a)({},{animationSpeed:t,board:c,resetButton:x})),Object(r.jsx)(z,Object(u.a)({},{animationSpeed:t,boardSize:d,setBoardSize:b,resetButton:x,setResetButton:O,setBoard:a})),Object(r.jsx)(M,Object(u.a)({},{boardSize:d,setBoard:a,history:p,setHistory:v}))]})})},V=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),r(t),o(t),c(t),a(t)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),V()}},[[39,1,2]]]);
//# sourceMappingURL=main.bbc6190a.chunk.js.map