(this["webpackJsonpknights-tour-react"]=this["webpackJsonpknights-tour-react"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),o=n.n(a),i=n(22),c=n.n(i),l=n(4),s=n(5);function u(){var t=Object(l.a)(["\n\ttext-align: left;\n\tpadding-left: 25%;\n\th1 {\n\t\tpadding: 1rem 0;\n\t}\n\n\tli {\n\t\tmargin: 1rem 0;\n\t}\n"]);return u=function(){return t},t}var d=s.a.div(u());var h=function(){return Object(a.useEffect)((function(){document.querySelectorAll("svg").forEach((function(t){return t.remove()}))}),[]),Object(r.jsxs)(d,{children:[Object(r.jsx)("h1",{children:"About the algorithm"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"The knight can only move to a position where xDistance=1 and yDistance=2, or vice versa."}),Object(r.jsx)("li",{children:"For each move, we find all valid moves, and choose the one that has the fewest possibilities. This is known as Warnsdorff's rule."}),Object(r.jsx)("li",{children:"This was just a personal challenge for me, so I haven't looked at other implementations. I will happily accept corrections! :)"})]})]})},b=n(9),j=n(7),f=Object(a.createContext)();function p(t){var e=t.children,n=Object(a.useState)(50),o=Object(j.a)(n,2),i=o[0],c=o[1],l=Object(a.useState)([]),s=Object(j.a)(l,2),u=s[0],d=s[1],h=Object(a.useState)(8),b=Object(j.a)(h,2),p=b[0],v=b[1],m=Object(a.useState)([]),g=Object(j.a)(m,2),O=g[0],x=g[1],y=Object(a.useState)([]),w=Object(j.a)(y,2),S=w[0],k=w[1],M=Object(a.useState)(!0),A=Object(j.a)(M,2),C=A[0],N=A[1];return Object(r.jsx)(f.Provider,{value:{animationSpeed:i,setAnimationSpeed:c,board:u,setBoard:d,boardSize:p,setBoardSize:v,history:O,setHistory:x,playback:S,setPlayback:k,showLines:C,setShowLines:N},children:e})}var v=function(){var t=Object(a.useContext)(f),e=t.animationSpeed,n=t.board,r=t.boardSize,o=t.showLines;return Object(a.useEffect)((function(){document.querySelectorAll("svg").forEach((function(t){t.remove()}))}),[n,r,o,e]),Object(a.useEffect)((function(){var t=Object(b.a)(document.querySelectorAll(".board-button"));n.forEach((function(r,a){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),c="";i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%");var l=document.createElementNS("http://www.w3.org/2000/svg","path"),s=document.createElementNS("http://www.w3.org/2000/svg","path");setTimeout((function(){var e=t.find((function(t){return t.innerHTML===r.name})),u=Math.floor(a*(270/n.length));if(o&&a>0){var d=e.getBoundingClientRect(),h=d.left+d.width/2,b=d.top+d.height/2,j=t.find((function(t){return t.innerHTML===n[a-1].name})).getBoundingClientRect(),f={left:j.left,width:j.width,top:j.top,height:j.height},p=f.left+f.width/2,v=f.top+f.height/2;c+="M ".concat(h," ").concat(b," L ").concat(p," ").concat(v),l.setAttributeNS(null,"d",c),l.setAttributeNS(null,"stroke","black"),l.setAttributeNS(null,"stroke-width","2"),l.setAttributeNS(null,"stroke-opacity","0.5"),s.setAttributeNS(null,"d",c),s.setAttributeNS(null,"stroke","hsl(".concat(u,", 100%, 50%)")),s.setAttributeNS(null,"stroke-width","1"),l.setAttributeNS(null,"stroke-opacity","0.5"),i.appendChild(l),i.appendChild(s),i.style.position="absolute",i.style.left=0,i.style.bottom=0,document.body.appendChild(i)}void 0!==e&&(e.classList.add("active"),0===a&&(e.style.borderColor="white"),e.style.backgroundColor="hsl(".concat(u,", 50%, 80%)"),e.style.color="black")}),a*e)}))}),[n]),null},m=n(26),g=n(21);function O(t,e,n){var r=Math.pow(n,2),a=Object(b.a)(Array(n)).map((function(t,e){return Object(b.a)(Array(n)).map((function(t,c){return function(t,e){var c=[],l=t+1;function s(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(o.length>0&&(i.push(Object(g.a)(Object(g.a)({},o[o.length-1]),{},{colorize:!0})),i.push.apply(i,Object(b.a)(c))),o.push(a[t][e]),o[o.length-1].visited=!0,a[t][e].visited=!0),l?c.push(c.shift()):c=u(),n&&c.length>0){var s,h=Object(m.a)(c);try{for(h.s();!(s=h.n()).done;){var j=s.value;j.validMoves=j.getValidMoves(n=!1)}}catch(p){h.e(p)}finally{h.f()}c.sort((function(t,e){return t.validMoves.length-e.validMoves.length}));var f=c[0];a[f.x][f.y].getValidMoves()}else n&&0===c.length&&o.length<r&&d();return c}function u(){return a.flat().filter((function(n){var r=-1*Math.abs(n.x-t),a=-1*Math.abs(n.y-e);return(-2===r&&-1===a||-1===r&&-2===a)&&!n.visited}))}function d(){for(var t=o.length-1;t>=0;t--){if(o[t].validMoves.length>=2){var e=o[t],n=e.x,r=e.y;a[n][r].getValidMoves(!0,!0);break}o.pop()}}return{name:"".concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n-e-1]).concat(l),x:t,y:e,getValidMoves:s}}(e,c)}))})),o=[],i=[];if(a[t][e].validMoves=a[t][e].getValidMoves(),o.length===Math.pow(n,2))return{history:o,playback:i}}function x(){var t=Object(l.a)(["\n\t\tborder: 1px solid;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all .25s ease-out;\n\t\tborder-color: #999;\n\t\tcursor: pointer;\n\t\t\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 10px white;\n\t\t}\n\n\t\t&.active:hover{\n\t\t\tbox-shadow: 0 0 10px black;\n\t\t}\n\t"]);return x=function(){return t},t}var y=s.a.div(x());var w=function(t){var e=t.name,n=t.x,o=t.y,i=Object(a.useContext)(f),c=i.boardSize,l=i.setBoard,s=i.setHistory;return Object(r.jsx)(y,{className:"board-button",onClick:function(){var t=O(n,o,c),e=t.history,r=t.playback;l(e),s(r)},children:e})};function S(){var t=Object(l.a)(["\n\t\tmargin-top: 1rem;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: #333;\n\t\tcolor: #aaa;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(",", ","%);\n\t\tgrid-template-rows: repeat(",", ","%);\n\t"]);return S=function(){return t},t}var k=function(){var t=[],e=Object(a.useContext)(f).boardSize;document.querySelectorAll("svg").forEach((function(t){return t.remove()}));for(var n=s.a.div(S(),e,100/e,e,100/e),o=0;o<e;o++)for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e-1-o],c=0;c<e;c++)t.push(Object(r.jsx)(w,{name:"".concat(i).concat(c+1),x:c,y:o}));return Object(r.jsx)(n,{className:"board",children:t.map((function(t){return t}))})};function M(){var t=Object(l.a)(["\n\twidth: 100%;\n"]);return M=function(){return t},t}function A(){var t=Object(l.a)(["\n\tpadding: 1rem;\n\tborder: 1px solid black;\n\tmargin-top: 1rem;\n\tdisplay: inline-block;\n\tfont-size: 1rem;\n"]);return A=function(){return t},t}function C(){var t=Object(l.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-around;\n\n\tlabel {\n\t\tpadding: 1rem;\n\t\tbackground-color: #d3e3e9;\n\t\tborder: 1px solid #0596cb;\n\t\tmargin-top: 1rem;\n\t\tmin-width: 300px;\n\t}\n\n\tbutton {\n\t\tpadding: 1rem;\n\t\tfont-size: 1.25rem;\n\t}\n\n\tp {\n\t\tmargin-top: 1rem;\n\t}\n"]);return C=function(){return t},t}var N=s.a.form(C()),B=s.a.input(A()),E=s.a.input(M());var z=function(){var t=Object(a.useContext)(f),e=t.animationSpeed,n=t.setAnimationSpeed,o=t.setBoard,i=t.boardSize,c=t.setBoardSize,l=e*Math.pow(i,2)/1e3,s=Math.floor(l/60),u=Math.floor(l%60),d="";return d=l>60?"".concat(s,":").concat(String(u).padStart(2,"0")):l>=10?Math.round(l)+"s":l.toFixed(1)+"s",Object(r.jsxs)(N,{children:[Object(r.jsxs)("label",{htmlFor:"num-cells",children:[Object(r.jsx)(B,{autoFocus:!0,id:"num-cells",min:"5",max:"26",name:"num-cells",onChange:function(t){if(t.target.value<=26){var e=Number(t.target.value);c(e)}},type:"number",value:i}),Object(r.jsx)("p",{children:"Board size"})]}),Object(r.jsx)("button",{onClick:function(t){t.preventDefault(),o((function(t){return[]}))},children:"Clear"}),Object(r.jsxs)("label",{htmlFor:"speed",children:[Object(r.jsx)(E,{type:"range",name:"animation-speed",onChange:function(t){n(t.target.value)},value:e,min:"0",max:"1000",step:"5"}),Object(r.jsxs)("p",{children:["Interval: ",e," ms (total duration: ",d,")"]})]})]})},F=n(14);function L(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 2rem;\n\tbackground: hsl(350, 50%, 50%);\n\tcolor: white;\n\tbox-shadow: 0 0 10px 0 rgba(0,0,0,0.5);\n\tborder-bottom: 1px solid black;\n\n\tul{\n\t\tdisplay: flex;\n\t\tlist-style: none;\n\t}\n\n\tli {\n\t\tpadding: 0 5rem;\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t}\n"]);return L=function(){return t},t}var T=s.a.nav(L());var I=function(t){var e=t.title;return Object(r.jsxs)(T,{children:[Object(r.jsx)("h1",{children:e}),Object(r.jsxs)("ul",{children:[Object(r.jsx)(F.b,{exact:!0,to:"/",children:Object(r.jsx)("li",{children:"Board"})}),Object(r.jsx)(F.b,{to:"/about",children:Object(r.jsx)("li",{children:"About"})})]})]})},V=n(2);n(38);var D=function(){return Object(r.jsx)(p,{children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(F.a,{children:[Object(r.jsx)(I,{title:"Knight's Tour"}),Object(r.jsxs)(V.c,{children:[Object(r.jsxs)(V.a,{exact:!0,path:"/",children:[Object(r.jsx)(v,{}),Object(r.jsx)(z,{}),Object(r.jsx)(k,{})]}),Object(r.jsx)(V.a,{path:"/about",children:Object(r.jsx)(h,{})})]})]})})})},H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),o(t),i(t)}))};c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),H()}},[[39,1,2]]]);
//# sourceMappingURL=main.ebda6aa3.chunk.js.map