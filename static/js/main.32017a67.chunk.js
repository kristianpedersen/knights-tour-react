(this["webpackJsonpknights-tour-react"]=this["webpackJsonpknights-tour-react"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(0),a=n.n(o),c=n(21),i=n.n(c),u=n(4),l=n(5),s=n(2),d=n(3);function b(){var t=Object(s.a)(["\n\ttext-align: left;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-left: 30px;\n\th1 {\n\t\tpadding: 1rem 0;\n\t}\n\n\tli {\n\t\tmargin: 1rem 0;\n\t}\n"]);return b=function(){return t},t}d.a.div(b());var f=n(13),h=n.n(f),p=n(14),v=n(25),j=n(7);function m(t){return new Promise((function(e){return setTimeout(e,t)}))}var g=function(t){var e=t.animationSpeedRef,n=t.board,r=Object(o.useRef)(!0);return Object(o.useEffect)((function(){r.current&&(r.current=!1,console.log("Setting up event listener"),window.addEventListener("resize",(function(){var t=document.querySelector(".board").getBoundingClientRect().height;document.querySelectorAll("svg").forEach((function(e){return e.setAttribute("height",t)}))})))})),Object(o.useEffect)((function(){var t=document.querySelector(".board").getBoundingClientRect(),r=t.width,o=t.height;if(n.length>=25){var a=Object(j.a)(document.querySelectorAll(".board-button"));function c(){return(c=Object(v.a)(h.a.mark((function t(){var c,i,u,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(p.a)(n.entries()),t.prev=1,u=h.a.mark((function t(){var c,u,s,d,b,f,p,v,j,g,x,O,y,S,w,k,A,M,B,C,N,R;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=Object(l.a)(i.value,2),u=c[0],s=c[1],d="http://www.w3.org/2000/svg",(b=document.createElementNS(d,"svg")).setAttribute("preserveAspectRatio","none"),b.setAttribute("viewBox","0 0 ".concat(r," ").concat(o)),f=a.find((function(t){return t.innerHTML===s.name})),p="",b.setAttributeNS(null,"width","100vw"),b.setAttributeNS(null,"height",document.querySelector(".board").getBoundingClientRect().height),v=document.createElementNS(d,"path"),j=document.createElementNS(d,"path"),g=Math.floor(u*(270/n.length)),void 0!==f){t.next=14;break}return t.abrupt("return",{v:void 0});case 14:return x=f.getBoundingClientRect(),O=x.left,y=x.width,S=x.top,w=x.height,u>0&&void 0!==f&&(k=O+y/2,A=Math.abs(S-document.querySelector(".board").getBoundingClientRect().top+w/2),(M=a.find((function(t){return t.innerHTML===n[u-1].name}))).innerHTML=u,B=M.getBoundingClientRect(),C={left:B.left,width:B.width,top:B.top,height:B.height},N=C.left+y/2,R=Math.abs(C.top-document.querySelector(".board").getBoundingClientRect().top+w/2),p+="M ".concat(k," ").concat(A," L ").concat(N," ").concat(R),v.setAttributeNS(null,"d",p),v.setAttributeNS(null,"stroke","black"),v.setAttributeNS(null,"stroke-width","4"),v.setAttributeNS(null,"stroke-opacity",.1),j.setAttributeNS(null,"d",p),j.setAttributeNS(null,"stroke","hsl(".concat(g,", 100%, 50%)")),j.setAttributeNS(null,"stroke-width","2"),b.appendChild(v),b.appendChild(j),b.style.position="absolute",b.style.left=0,b.style.bottom=0,document.querySelector(".board").appendChild(b)),void 0!==f&&(f.classList.add("active"),0===u&&(f.style.borderColor="white"),f.style.backgroundColor="hsl(".concat(g,", 50%, 80%)"),f.style.color="black"),t.next=19,m(e.current);case 19:case"end":return t.stop()}}),t)})),c.s();case 4:if((i=c.n()).done){t.next=11;break}return t.delegateYield(u(),"t0",6);case 6:if("object"!==typeof(s=t.t0)){t.next=9;break}return t.abrupt("return",s.v);case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t1=t.catch(1),c.e(t.t1);case 16:return t.prev=16,c.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,13,16,19]])})))).apply(this,arguments)}document.querySelectorAll("svg").forEach((function(t){return t.remove()})),function(){c.apply(this,arguments)}()}}),[n]),null};function x(t,e,n){var r=Math.pow(n,2),o=Object(j.a)(Array(n)).map((function(t,e){return Object(j.a)(Array(n)).map((function(t,i){return function(t,e){var i=[],l=t+1;function s(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(a.length>0&&(c.push(Object(u.a)(Object(u.a)({},a[a.length-1]),{},{colorize:!0})),c.push.apply(c,Object(j.a)(i))),a.push(o[t][e]),a[a.length-1].visited=!0,o[t][e].visited=!0),l?i.push(i.shift()):i=d(),n&&i.length>0){var s,f=Object(p.a)(i);try{for(f.s();!(s=f.n()).done;){var h=s.value;h.validMoves=h.getValidMoves(n=!1)}}catch(m){f.e(m)}finally{f.f()}i.sort((function(t,e){return t.validMoves.length-e.validMoves.length}));var v=i[0];o[v.x][v.y].getValidMoves()}else n&&0===i.length&&a.length<r&&b();return i}function d(){return o.flat().filter((function(n){var r=-1*Math.abs(n.x-t),o=-1*Math.abs(n.y-e);return(-2===r&&-1===o||-1===r&&-2===o)&&!n.visited}))}function b(){for(var t=a.length-1;t>=0;t--){if(a[t].validMoves.length>=2){var e=a[t],n=e.x,r=e.y;o[n][r].getValidMoves(!0,!0);break}a.pop()}}return{name:"".concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n-e-1]).concat(l),x:t,y:e,getValidMoves:s}}(e,i)}))})),a=[],c=[];if(o[t][e].validMoves=o[t][e].getValidMoves(),a.length===r)return{history:a,playback:c}}function O(){var t=Object(s.a)(["\n\t\tborder: 1px solid;\n\t\tdisplay: inline;\n\t\t/* transition: all .25s ease-out; */\n\t\tborder-color: #666;\n\t\tbackground-color: #333;\n\t\tcolor: #ddd;\n\t\tcursor: pointer;\n\t\tfont-size: 0.75rem;\n\t\ttext-align: start;\n\t\tpadding-left: 0.5rem;\n\t\tpadding-right: -0.5rem;\n\t\t\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 10px white;\n\t\t}\n\n\t\t&.active:hover{\n\t\t\tbox-shadow: 0 0 10px black;\n\t\t}\n\t"]);return O=function(){return t},t}var y=d.a.button(O());var S=function(t){var e=t.name,n=t.x,o=t.y,a=t.setBoard,c=t.setHistory,i=t.boardSize;return Object(r.jsx)(y,{className:"board-button",onClick:function(){document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")}));var t=x(n,o,i),e=t.history,r=t.playback;a(e),c(r)},children:e})},w=n(41);function k(){var t=Object(s.a)(["\n\tmargin-top: 1rem;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tbackground: #333;\n\tcolor: #aaa;\t\t\n\n\thr {\n\t\tvisibility: hidden;\n\t}\n\n\t.row {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-evenly;\n\t\twidth: 100vw;\n\t}\n\n\tbutton {\n\t\tdisplay: inline-block;\n\t\theight: 100%;\n\t}\n"]);return k=function(){return t},t}var A=d.a.div(k());function M(t){var e=t.boardSize,n=t.setBoard,a=t.setHistory;Object(o.useEffect)((function(){document.querySelectorAll("svg").forEach((function(t){return t.remove()})),document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")}))}),[e]);for(var c=[],i=0;i<e;i++){for(var l=[],s=0;s<e;s++){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e-s-1];l.push(Object(o.createElement)(S,Object(u.a)(Object(u.a)({name:"".concat(d).concat(i+1),x:i,y:s},{boardSize:e,setBoard:n,setHistory:a}),{},{key:Object(w.a)()})))}c.push(l)}return Object(r.jsx)(A,Object(u.a)(Object(u.a)({className:"board"},{boardSize:e}),{},{children:c.map((function(t){return Object(r.jsx)("div",{className:"row",children:t.map((function(t){return t}))})}))}))}function B(){var t=Object(s.a)(["\n\tmin-width: 33vw;\n\tdisplay: inline-block;\n"]);return B=function(){return t},t}function C(){var t=Object(s.a)(["\n\tborder: 1px solid black;\n\tpadding: 0.5rem;\n"]);return C=function(){return t},t}function N(){var t=Object(s.a)(["\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\n\t@media (min-width: 728px) {\n\t\tflex-wrap: nowrap;\n\t}\n\n\tlabel {\n\t\tbackground-color: ",";\n\t\tpadding: 1rem;\n\t\twidth: 100%;\n\t\tjustify-content: center;\n\t}\n\n\tbutton {\n\t\tpadding: 1rem;\n\t\tfont-size: 1rem;\n\t\tmargin: 1rem;\n\t\tmargin-bottom: 0;\n\t}\n\n\tp {\n\t\tmargin-top: 1rem;\n\t}\n"]);return N=function(){return t},t}var R=d.a.form(N(),(function(t){return t.color})),E=d.a.input(C()),q=d.a.input(B());var z=function(t){var e=t.animationSpeedRef,n=t.boardSize,a=t.setBoardSize,c=t.resetButton,i=t.setResetButton,u=t.setBoard,l=Object(o.useRef)(null);function s(t,n,r){t.preventDefault(),a(n),e.current=r}function d(t){var e=t*Math.pow(n,2)/1e3,r=Math.floor(e/60),o=Math.floor(e%60);return e>60?"".concat(r,":").concat(String(o).padStart(2,"0")):e>=10?Math.round(e)+"s":e.toFixed(1)+"s"}return Object(r.jsxs)(R,{children:[Object(r.jsxs)("label",{htmlFor:"num-cells",children:[Object(r.jsx)(E,{autoFocus:!0,id:"num-cells",min:"5",max:"26",name:"num-cells",onChange:function(t){if(t.target.value<=26){var e=Number(t.target.value);a(e)}},onClick:function(t){return t.target.focus()},type:"number",value:n}),Object(r.jsx)("p",{children:"Board size (5-26)"}),Object(r.jsx)("button",{onClick:function(t){return s(t,8,50)},children:"8x8"}),Object(r.jsx)("button",{onClick:function(t){return s(t,26,250)},children:"26x26"}),Object(r.jsx)("button",{onClick:function(t){t.preventDefault(),document.querySelectorAll("button").forEach((function(t){return t.removeAttribute("style")})),document.querySelectorAll("svg").forEach((function(t){return t.remove()})),u([]),i(!c)},children:"Clear"})]}),Object(r.jsxs)("label",{htmlFor:"speed",children:[Object(r.jsx)(q,{type:"range",name:"animation-speed",onInput:function(t){e.current=Number(t.target.value)||e.current;var n=d(e.current);l.current.innerHTML="Interval: ".concat(e.current," ms (total duration: ").concat(n,")")},min:"0",max:"500",step:"5"}),Object(r.jsx)("p",{ref:l,children:"Interval: ".concat(e.current," ms (total duration: ").concat(d(e.current),")")})]})]})},L=n(12);function F(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 1rem;\n\tbackground: hsl(350, 50%, 50%);\n\tcolor: white;\n\tbox-shadow: 0 0 10px 0 rgba(0,0,0,0.5);\n\tborder-bottom: 1px solid black;\n\n\tul{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tlist-style: none;\n\t}\n\n\t@media (min-width: 768px) {\n\t\tul {\n\t\t\tflex-direction: row;\n\t\t}\n\t}\n\n\tli {\n\t\tpadding: 0 5rem;\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t}\n"]);return F=function(){return t},t}var H=d.a.nav(F());var T=function(t){return t.title,Object(r.jsxs)(H,{children:[Object(r.jsx)("h1",{children:"Knight's Tour"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)(L.b,{exact:!0,to:"/knights-tour-react",children:Object(r.jsx)("li",{children:"Board"})}),Object(r.jsx)(L.b,{to:"/knights-tour-react/about",children:Object(r.jsx)("li",{children:"About"})})]})]})};n(38);var I=function(){var t=Object(o.useRef)(50),e=Object(o.useState)([]),n=Object(l.a)(e,2),a=n[0],c=n[1],i=Object(o.useState)(8),s=Object(l.a)(i,2),d=s[0],b=s[1],f=Object(o.useState)([]),h=Object(l.a)(f,2),p=h[0],v=h[1],j=Object(o.useState)(!1),m=Object(l.a)(j,2),x=m[0],O=m[1];return Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(L.a,{children:[Object(r.jsx)(T,{}),Object(r.jsx)(g,Object(u.a)({},{animationSpeedRef:t,board:a,resetButton:x})),Object(r.jsx)(z,Object(u.a)({},{animationSpeedRef:t,boardSize:d,setBoardSize:b,resetButton:x,setResetButton:O,setBoard:c})),Object(r.jsx)(M,Object(u.a)({},{boardSize:d,setBoard:c,history:p,setHistory:v}))]})})},V=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),a(t),c(t)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),V()}},[[39,1,2]]]);
//# sourceMappingURL=main.32017a67.chunk.js.map