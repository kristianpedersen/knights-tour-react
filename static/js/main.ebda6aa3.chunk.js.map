{"version":3,"sources":["components/About.js","BoardContext.js","components/Animation.js","Calculate.js","components/Cell.js","components/Board.js","components/Input.js","components/Nav.js","App.js","reportWebVitals.js","index.js"],"names":["AboutDiv","styled","div","About","useEffect","document","querySelectorAll","forEach","svg","remove","BoardContext","createContext","BoardProvider","children","useState","animationSpeed","setAnimationSpeed","board","setBoard","boardSize","setBoardSize","history","setHistory","playback","setPlayback","showLines","setShowLines","Provider","value","Animation","useContext","buttons","move","index","createElementNS","pathString","setAttributeNS","blackLine","coloredLine","setTimeout","button","find","b","innerHTML","name","hue","Math","floor","length","getBoundingClientRect","x","left","width","y","top","height","previousClientRect","previous","previousX","previousY","appendChild","style","position","bottom","body","undefined","classList","add","borderColor","backgroundColor","color","Calculate","startX","startY","numberOfCells","Array","map","_","cellX","cellY","validMoves","colName","getValidMoves","getValidMovesLength","rewind","push","colorize","visited","shift","getValidCellsFromBoard","sort","a","next","goBackInHistory","flat","filter","otherCell","xDistance","abs","yDistance","i","pop","Cell","SingleCell","className","onClick","Board","emptyBoard","BoardContainer","letter","element","Form","form","BoardSizeInput","input","Slider","Input","animationSpeedMs","totalDurationSeconds","minutes","seconds","output","String","padStart","round","toFixed","htmlFor","autoFocus","id","min","max","onChange","event","target","n","Number","type","preventDefault","previousBoard","step","Nav","nav","Menu","title","exact","to","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ebda6aa3.chunk.js","sourcesContent":["import { useEffect } from \"react\"\nimport styled from \"styled-components\"\n\nconst AboutDiv = styled.div`\n\ttext-align: left;\n\tpadding-left: 25%;\n\th1 {\n\t\tpadding: 1rem 0;\n\t}\n\n\tli {\n\t\tmargin: 1rem 0;\n\t}\n`\n\nfunction About() {\n\tuseEffect(function removeSVG() {\n\t\tdocument.querySelectorAll(\"svg\").forEach(svg => svg.remove())\n\t}, [])\n\n\treturn (\n\t\t<AboutDiv>\n\t\t\t<h1>About the algorithm</h1>\n\t\t\t<ul>\n\t\t\t\t<li>The knight can only move to a position where xDistance=1 and yDistance=2, or vice versa.</li>\n\t\t\t\t<li>For each move, we find all valid moves, and choose the one that has the fewest possibilities. This is known as Warnsdorff's rule.</li>\n\t\t\t\t<li>This was just a personal challenge for me, so I haven't looked at other implementations. I will happily accept corrections! :)</li>\n\t\t\t</ul>\n\t\t</AboutDiv>\n\n\t\t// \tFetch images from Wikipedia article\n\t\t// https://en.wikipedia.org/w/api.php?action=opensearch&limit=5&format=xml&search=knights%20tour&namespace=0\n\t\t// ...\n\t)\n}\n\nexport default About","import { createContext, useState } from \"react\"\n\nexport const BoardContext = createContext()\n\nexport function BoardProvider({ children }) {\n\tconst [animationSpeed, setAnimationSpeed] = useState(50)\n\tconst [board, setBoard] = useState([])\n\tconst [boardSize, setBoardSize] = useState(8)\n\tconst [history, setHistory] = useState([])\n\tconst [playback, setPlayback] = useState([])\n\tconst [showLines, setShowLines] = useState(true)\n\n\treturn (\n\t\t<BoardContext.Provider value={{\n\t\t\tanimationSpeed, setAnimationSpeed,\n\t\t\tboard, setBoard,\n\t\t\tboardSize, setBoardSize,\n\t\t\thistory, setHistory,\n\t\t\tplayback, setPlayback,\n\t\t\tshowLines, setShowLines,\n\t\t}}>\n\t\t\t{children}\n\t\t</BoardContext.Provider>\n\t)\n}","import { useContext, useEffect } from \"react\"\nimport { BoardContext } from \"../BoardContext\"\n\nfunction Animation() {\n\tconst {\n\t\tanimationSpeed,\n\t\tboard,\n\t\tboardSize,\n\t\tshowLines,\n\t} = useContext(BoardContext)\n\n\tuseEffect(function removeSVG() {\n\t\tdocument.querySelectorAll(\"svg\")\n\t\t\t.forEach(function remove(svg) {\n\t\t\t\tsvg.remove()\n\t\t\t})\n\t}, [board, boardSize, showLines, animationSpeed])\n\n\tuseEffect(function animateBoardOnStateChange() {\n\t\tconst buttons = [...document.querySelectorAll(\".board-button\")]\n\n\t\tboard.forEach(function colorizeCellAndCreateLine(move, index) {\n\t\t\tlet svg = document.createElementNS(\"http://www.w3.org/2000/svg\", 'svg')\n\t\t\tlet pathString = \"\"\n\t\t\tsvg.setAttributeNS(null, 'width', '100%')\n\t\t\tsvg.setAttributeNS(null, 'height', '100%')\n\t\t\tlet blackLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\")\n\t\t\tlet coloredLine = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\")\n\n\t\t\tsetTimeout(function showMovesStepByStep() {\n\t\t\t\tconst button = buttons.find(function getCurrentButton(b) {\n\t\t\t\t\treturn b.innerHTML === move.name\n\t\t\t\t})\n\t\t\t\tconst hue = Math.floor(index * (270 / board.length))\n\n\t\t\t\tif (showLines && index > 0) {\n\t\t\t\t\t// Draw SVG line from this button to next\n\t\t\t\t\tconst { left, width, top, height } = button.getBoundingClientRect()\n\t\t\t\t\tconst x = left + width / 2\n\t\t\t\t\tconst y = top + height / 2\n\t\t\t\t\tconst previousButton = buttons.find(function getPreviousButton(b) {\n\t\t\t\t\t\treturn b.innerHTML === board[index - 1].name\n\t\t\t\t\t})\n\t\t\t\t\tconst previousClientRect = previousButton.getBoundingClientRect()\n\t\t\t\t\tconst previous = {\n\t\t\t\t\t\tleft: previousClientRect.left,\n\t\t\t\t\t\twidth: previousClientRect.width,\n\t\t\t\t\t\ttop: previousClientRect.top,\n\t\t\t\t\t\theight: previousClientRect.height,\n\t\t\t\t\t}\n\t\t\t\t\tconst previousX = previous.left + previous.width / 2\n\t\t\t\t\tconst previousY = previous.top + previous.height / 2\n\n\t\t\t\t\tpathString += `M ${x} ${y} L ${previousX} ${previousY}`\n\n\t\t\t\t\tblackLine.setAttributeNS(null, \"d\", pathString);\n\t\t\t\t\tblackLine.setAttributeNS(null, 'stroke', \"black\")\n\t\t\t\t\tblackLine.setAttributeNS(null, 'stroke-width', \"2\")\n\t\t\t\t\tblackLine.setAttributeNS(null, 'stroke-opacity', \"0.5\")\n\n\t\t\t\t\tcoloredLine.setAttributeNS(null, \"d\", pathString);\n\t\t\t\t\tcoloredLine.setAttributeNS(null, 'stroke', `hsl(${hue}, 100%, 50%)`)\n\t\t\t\t\tcoloredLine.setAttributeNS(null, 'stroke-width', \"1\")\n\t\t\t\t\tblackLine.setAttributeNS(null, 'stroke-opacity', \"0.5\")\n\n\t\t\t\t\tsvg.appendChild(blackLine)\n\t\t\t\t\tsvg.appendChild(coloredLine)\n\n\t\t\t\t\tsvg.style.position = \"absolute\"\n\t\t\t\t\tsvg.style.left = 0\n\t\t\t\t\tsvg.style.bottom = 0\n\t\t\t\t\tdocument.body.appendChild(svg)\n\t\t\t\t}\n\n\t\t\t\tif (button !== undefined) {\n\t\t\t\t\t// button.innerHTML += ` (${index + 1})`\n\t\t\t\t\tbutton.classList.add(\"active\")\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\tbutton.style.borderColor = \"white\"\n\t\t\t\t\t}\n\t\t\t\t\tbutton.style.backgroundColor = `hsl(${hue}, 50%, 80%)`\n\t\t\t\t\tbutton.style.color = \"black\"\n\t\t\t\t}\n\t\t\t}, index * animationSpeed)\n\t\t})\n\t}, [board])\n\treturn null\n}\n\nexport default Animation","/**\n Prototyped it in Node.js. Haven't adapted it properly to React yet.\n For the time being, it simply returns an array.\n It could surely be made to affect state, but would the number of state updates be too taxing?\n The unimplemented \"playback\" array includes a cell's valid moves. This would also be cool to visualize.\n */\n\nexport function Calculate(startX, startY, boardSize) {\n\tconst numberOfCells = boardSize ** 2\n\tconst board = [...Array(boardSize)].map((_, x) => [...Array(boardSize)].map((_, y) => Cell(x, y)))\n\tconst history = []\n\tconst playback = []\n\n\tboard[startX][startY].validMoves = board[startX][startY].getValidMoves()\n\tif (history.length === boardSize ** 2) {\n\t\treturn { history, playback }\n\t}\n\n\tfunction Cell(cellX, cellY) {\n\t\tlet validMoves = []\n\t\tconst rowName = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"[boardSize - cellY - 1]\n\t\tconst colName = cellX + 1\n\t\tconst name = `${rowName}${colName}`\n\n\t\tfunction getValidMoves(getValidMovesLength = true, rewind = false) {\n\t\t\tif (getValidMovesLength) {\n\t\t\t\tif (history.length > 0) {\n\t\t\t\t\tplayback.push({ ...history[history.length - 1], colorize: true })\n\t\t\t\t\tplayback.push(...validMoves)\n\t\t\t\t}\n\t\t\t\thistory.push(board[cellX][cellY])\n\t\t\t\thistory[history.length - 1].visited = true\n\t\t\t\tboard[cellX][cellY].visited = true\n\t\t\t}\n\n\t\t\tif (rewind) {\n\t\t\t\tvalidMoves.push(validMoves.shift())\n\t\t\t} else {\n\t\t\t\tvalidMoves = getValidCellsFromBoard()\n\t\t\t}\n\n\t\t\tif (getValidMovesLength && validMoves.length > 0) {\n\t\t\t\tfor (const move of validMoves) {\n\t\t\t\t\tmove.validMoves = move.getValidMoves(getValidMovesLength = false)\n\t\t\t\t}\n\t\t\t\tvalidMoves.sort((a, b) => a.validMoves.length - b.validMoves.length)\n\t\t\t\tconst next = validMoves[0]\n\t\t\t\tboard[next.x][next.y].getValidMoves()\n\t\t\t} else if (getValidMovesLength && validMoves.length === 0 && history.length < numberOfCells) {\n\t\t\t\tgoBackInHistory()\n\t\t\t}\n\n\t\t\treturn validMoves\n\t\t}\n\n\t\tfunction getValidCellsFromBoard() {\n\t\t\treturn board.flat().filter(otherCell => {\n\t\t\t\tconst xDistance = Math.abs(otherCell.x - cellX) * -1\n\t\t\t\tconst yDistance = Math.abs(otherCell.y - cellY) * -1\n\t\t\t\tconst moveIsValid =\n\t\t\t\t\t(xDistance === -2 && yDistance === -1)\n\t\t\t\t\t|| (xDistance === -1 && yDistance === -2)\n\t\t\t\treturn moveIsValid && !otherCell.visited\n\t\t\t})\n\t\t}\n\n\t\tfunction goBackInHistory() {\n\t\t\tfor (let i = history.length - 1; i >= 0; i--) {\n\t\t\t\tif (history[i].validMoves.length >= 2) {\n\t\t\t\t\tconst { x, y } = history[i]\n\t\t\t\t\tboard[x][y].getValidMoves(true, true)\n\t\t\t\t\tbreak\n\t\t\t\t} else {\n\t\t\t\t\thistory.pop()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tname,\n\t\t\tx: cellX,\n\t\t\ty: cellY,\n\t\t\tgetValidMoves,\n\t\t}\n\t}\n}","import { useContext } from \"react\"\nimport styled from \"styled-components\"\nimport { Calculate } from \"../Calculate\"\nimport { BoardContext } from \"../BoardContext\"\n\nconst SingleCell = styled.div`\n\t\tborder: 1px solid;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all .25s ease-out;\n\t\tborder-color: #999;\n\t\tcursor: pointer;\n\t\t\n\t\t&:hover {\n\t\t\tbox-shadow: 0 0 10px white;\n\t\t}\n\n\t\t&.active:hover{\n\t\t\tbox-shadow: 0 0 10px black;\n\t\t}\n\t`\n\nfunction Cell({ name, x, y }) {\n\tconst {\n\t\tboardSize,\n\t\tsetBoard,\n\t\tsetHistory,\n\t} = useContext(BoardContext)\n\n\tfunction disableAllButtonsAndCalculate() {\n\t\tconst { history, playback } = Calculate(x, y, boardSize)\n\t\tsetBoard(history)\n\t\tsetHistory(playback)\n\t}\n\n\n\treturn (\n\t\t<SingleCell\n\t\t\tclassName=\"board-button\"\n\t\t\tonClick={disableAllButtonsAndCalculate}\n\t\t>\n\t\t\t{name}\n\t\t</SingleCell>\n\t)\n}\n\nexport default Cell","import styled from \"styled-components\"\nimport Cell from \"./Cell\"\nimport { useContext } from \"react\"\nimport { BoardContext } from \"../BoardContext\"\n\nfunction Board() {\n\tconst emptyBoard = []\n\tconst { boardSize } = useContext(BoardContext)\n\tdocument.querySelectorAll(\"svg\").forEach(svg => svg.remove())\n\n\tconst BoardContainer = styled.div`\n\t\tmargin-top: 1rem;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: #333;\n\t\tcolor: #aaa;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(${boardSize}, ${100 / boardSize}%);\n\t\tgrid-template-rows: repeat(${boardSize}, ${100 / boardSize}%);\n\t`\n\n\tfor (let y = 0; y < boardSize; y++) {\n\t\tconst letter = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"[boardSize - 1 - y]\n\t\tfor (let x = 0; x < boardSize; x++) {\n\t\t\temptyBoard.push(\n\t\t\t\t<Cell\n\t\t\t\t\tname={`${letter}${x + 1}`}\n\t\t\t\t\tx={x} y={y}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<BoardContainer className=\"board\">\n\t\t\t{ emptyBoard.map(element => element)}\n\t\t</BoardContainer>\n\t)\n}\n\nexport default Board","import { useContext } from \"react\"\nimport { BoardContext } from \"../BoardContext\"\nimport styled from \"styled-components\"\n\nconst Form = styled.form`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-around;\n\n\tlabel {\n\t\tpadding: 1rem;\n\t\tbackground-color: #d3e3e9;\n\t\tborder: 1px solid #0596cb;\n\t\tmargin-top: 1rem;\n\t\tmin-width: 300px;\n\t}\n\n\tbutton {\n\t\tpadding: 1rem;\n\t\tfont-size: 1.25rem;\n\t}\n\n\tp {\n\t\tmargin-top: 1rem;\n\t}\n`\n\nconst BoardSizeInput = styled.input`\n\tpadding: 1rem;\n\tborder: 1px solid black;\n\tmargin-top: 1rem;\n\tdisplay: inline-block;\n\tfont-size: 1rem;\n`\n\nconst Slider = styled.input`\n\twidth: 100%;\n`\n\nfunction Input() {\n\tconst {\n\t\tanimationSpeed: animationSpeedMs, setAnimationSpeed,\n\t\tsetBoard,\n\t\tboardSize, setBoardSize,\n\t} = useContext(BoardContext)\n\n\tfunction reset(event) {\n\t\tevent.preventDefault()\n\t\tsetBoard(previousBoard => [])\n\t}\n\n\n\tfunction createButtons(event) {\n\t\tif (event.target.value <= 26) {\n\t\t\tconst n = Number(event.target.value)\n\t\t\tsetBoardSize(n)\n\t\t}\n\t}\n\n\tfunction updateAnimationSpeed(event) {\n\t\tsetAnimationSpeed(event.target.value)\n\t}\n\n\tconst totalDurationSeconds = (animationSpeedMs * (boardSize ** 2) / 1000)\n\tconst minutes = Math.floor(totalDurationSeconds / 60)\n\tconst seconds = Math.floor(totalDurationSeconds % 60)\n\tlet output = \"\"\n\n\tif (totalDurationSeconds > 60) {\n\t\toutput = `${minutes}:${String(seconds).padStart(2, \"0\")}` // 1:01\n\t} else if (totalDurationSeconds >= 10) {\n\t\toutput = Math.round(totalDurationSeconds) + \"s\" // 10s\n\t} else {\n\t\toutput = totalDurationSeconds.toFixed(1) + \"s\" // 9.9s\n\t}\n\n\treturn (\n\t\t<Form>\n\t\t\t<label htmlFor=\"num-cells\" >\n\t\t\t\t<BoardSizeInput\n\t\t\t\t\tautoFocus\n\t\t\t\t\tid=\"num-cells\"\n\t\t\t\t\tmin=\"5\" // There are no solutions for n < 5\n\t\t\t\t\tmax=\"26\" // Sticking to the English alphabet\n\t\t\t\t\tname=\"num-cells\"\n\t\t\t\t\tonChange={createButtons}\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tvalue={boardSize}\n\t\t\t\t/>\n\t\t\t\t<p>Board size</p>\n\t\t\t</label>\n\n\t\t\t<button onClick={reset}>Clear</button>\n\n\t\t\t<label htmlFor=\"speed\">\n\t\t\t\t<Slider\n\t\t\t\t\ttype=\"range\"\n\t\t\t\t\tname=\"animation-speed\"\n\t\t\t\t\tonChange={updateAnimationSpeed}\n\t\t\t\t\tvalue={animationSpeedMs}\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tmax=\"1000\"\n\t\t\t\t\tstep=\"5\"\n\t\t\t\t/>\n\t\t\t\t<p>Interval: {animationSpeedMs} ms (total duration: {output})</p>\n\t\t\t</label>\n\t\t</Form>\n\t)\n}\n\nexport default Input","import styled from \"styled-components\"\nimport { NavLink } from \"react-router-dom\"\n\nconst Nav = styled.nav`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 2rem;\n\tbackground: hsl(350, 50%, 50%);\n\tcolor: white;\n\tbox-shadow: 0 0 10px 0 rgba(0,0,0,0.5);\n\tborder-bottom: 1px solid black;\n\n\tul{\n\t\tdisplay: flex;\n\t\tlist-style: none;\n\t}\n\n\tli {\n\t\tpadding: 0 5rem;\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttext-decoration: none;\n\t}\n`\n\nfunction Menu({ title }) {\n\treturn (\n\n\t\t<Nav>\n\t\t\t<h1>{title}</h1>\n\t\t\t<ul>\n\t\t\t\t<NavLink exact to=\"/\"><li>Board</li></NavLink>\n\t\t\t\t<NavLink to=\"/about\"><li>About</li></NavLink>\n\t\t\t</ul>\n\t\t</Nav>\n\n\t)\n}\n\nexport default Menu","import About from \"./components/About\"\nimport Animation from \"./components/Animation\"\nimport Board from \"./components/Board\"\nimport Input from \"./components/Input\"\nimport Menu from \"./components/Nav\"\n\nimport { BoardProvider } from \"./BoardContext\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport \"./App.css\"\n\nfunction App() {\n\treturn (\n\t\t<BoardProvider>\n\t\t\t<div className=\"App\">\n\t\t\t\t<Router>\n\t\t\t\t\t<Menu title=\"Knight's Tour\" />\n\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t<Animation />\n\t\t\t\t\t\t\t<Input />\n\t\t\t\t\t\t\t<Board />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/about\">\n\t\t\t\t\t\t\t<About />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t</BoardProvider>\n\t)\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}